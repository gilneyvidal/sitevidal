<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Produtos | Vidal Design Solutions</title>
  <meta name="description" content="Adesivos recortados, banners em lona 440g e camisetas personalizadas. Calcule o preço e adicione ao carrinho.">
  <link rel="stylesheet" href="styles.css"/>
  <script defer src="cart.js"></script>
</head>
<body>
  <header class="site-header">
    <div class="container header-wrap">
      <a class="logo" href="index.html"><img src="logo.png" alt="Vidal Design Solutions"/></a>
      <nav class="nav">
        <a href="index.html">Início</a>
        <a href="produtos.html" class="active">Produtos</a>
        <a href="destaques.html">Destaques</a>
        <a href="contato.html">Contato</a>
        <a class="cart-link" href="#" id="openCartBtn">Carrinho (<span id="cartCount">0</span>)</a>
      </nav>
    </div>
  </header>

  <main class="container">
    <h1>Produtos</h1>

    <section class="product-detail">
      <div class="pd-img">
        <img src="https://www.angraf.com.br/wp-content/images/produtos/large/366_gysxshxvhh1793ct3bjyr.jpg" alt="Adesivo impresso recortado"/>
      </div>
      <div class="pd-info">
        <h2>Adesivo recortado</h2>
        <p>Impressão digital e recorte eletrônico. Ideal para vitrines, sinalização e decoração.</p>
        <div class="pd-calc">
          <label>Largura (m)
            <input type="number" step="0.01" min="0.1" value="1" id="adesivoW">
          </label>
          <label>Altura (m)
            <input type="number" step="0.01" min="0.1" value="1" id="adesivoH">
          </label>
          <div class="pd-price">Preço: R$ <span id="adesivoPrice">90,00</span></div>
          <button class="btn" id="addAdesivo">Adicionar ao carrinho</button>
          <small class="hint">Área mínima: 0,5 m²</small>
        </div>
      </div>
    </section>

    <section class="product-detail">
      <div class="pd-img">
        <img src="https://www.revendauainews.com.br/uploads/produtos/banner-lona-440-tamanho-diversos-lona-440-impressao-uv-bastao-ponteira-e-cordao-4x0-1714776806154298099566356ae63aa1b.png" alt="Banner lona 440g"/>
      </div>
      <div class="pd-info">
        <h2>Banner Lona 440g</h2>
        <p>Impressão UV de alta resistência. Ótimo para promoções e eventos.</p>
        <div class="pd-calc">
          <label>Largura (m)
            <input type="number" step="0.01" min="0.1" value="1" id="bannerW">
          </label>
          <label>Altura (m)
            <input type="number" step="0.01" min="0.1" value="1" id="bannerH">
          </label>
          <div class="pd-price">Preço: R$ <span id="bannerPrice">75,00</span></div>
          <button class="btn" id="addBanner">Adicionar ao carrinho</button>
          <small class="hint">Área mínima: 0,5 m²</small>
        </div>
      </div>
    </section>

    <section class="product-detail">
      <div class="pd-img">
        <img src="https://express.bonjourestamparia.com/cdn/shop/files/camiseta-marrom.png?crop=center&height=553&v=1737380985&width=461" alt="Camiseta personalizada"/>
      </div>
      <div class="pd-info">
        <h2>Camiseta personalizada</h2>
        <p>Estampas personalizadas para sua equipe, evento ou marca.</p>
        <div class="pd-calc">
          <label>Quantidade
            <input type="number" min="1" value="10" id="camisetaQty">
          </label>
          <div class="pd-price">Preço: R$ <span id="camisetaPrice">350,00</span></div>
          <button class="btn" id="addCamiseta">Adicionar ao carrinho</button>
          <small class="hint">Preço base: R$ 35,00 por unidade</small>
        </div>
      </div>
    </section>
  </main>

  <footer class="site-footer">
    <div class="container footer-wrap">
      <div>
        <strong>Vidal Design Solutions</strong><br/>
        Rua Antonio Cordeiro, 57 – CEP 08715-470<br/>
        Mogi das Cruzes – SP<br/>
        Tel/WhatsApp: <a href="https://wa.me/5511968649673">+55 11 96864-9673</a><br/>
        Email: <a href="mailto:vidaldesignsolutions@gmail.com">vidaldesignsolutions@gmail.com</a>
      </div>
      <nav class="footer-nav">
        <a href="index.html">Início</a>
        <a href="produtos.html">Produtos</a>
        <a href="destaques.html">Destaques</a>
        <a href="contato.html">Contato</a>
      </nav>
    </div>
    <div class="copy">© <span id="year"></span> Vidal Design Solutions. Todos os direitos reservados.</div>
  </footer>

  <div id="cartDrawer" class="cart-drawer" aria-hidden="true">
    <div class="cart-header">
      <h3>Carrinho</h3>
      <button id="closeCartBtn" aria-label="Fechar">×</button>
    </div>
    <div class="cart-body" id="cartItems"></div>
    <div class="cart-footer">
      <div class="cart-total">Total: R$ <span id="cartTotal">0,00</span></div>
      <button class="btn btn-primary" id="checkoutBtn">Finalizar pelo WhatsApp</button>
    </div>
  </div>

  <script>
    document.getElementById('year').textContent = new Date().getFullYear();

    const formatBR = v => v.toLocaleString('pt-BR', {minimumFractionDigits:2, maximumFractionDigits:2});

    // Adesivo
    const adesivoPriceM2 = 90, minArea = 0.5;
    const aW = document.getElementById('adesivoW');
    const aH = document.getElementById('adesivoH');
    const aP = document.getElementById('adesivoPrice');
    function calcAdesivo(){
      const area = Math.max(minArea, Math.max(0.1, +aW.value) * Math.max(0.1, +aH.value));
      aP.textContent = formatBR(area * adesivoPriceM2);
    }
    aW.addEventListener('input', calcAdesivo);
    aH.addEventListener('input', calcAdesivo);
    calcAdesivo();
    document.getElementById('addAdesivo').addEventListener('click', () => {
      const area = Math.max(minArea, Math.max(0.1, +aW.value) * Math.max(0.1, +aH.value));
      window.Cart.addItem({id:'adesivo',name:'Adesivo recortado', price: adesivoPriceM2, unit:'m2', area, width:+aW.value, height:+aH.value, minArea});
      document.getElementById('openCartBtn').click();
    });

    // Banner
    const bannerPriceM2 = 75;
    const bW = document.getElementById('bannerW');
    const bH = document.getElementById('bannerH');
    const bP = document.getElementById('bannerPrice');
    function calcBanner(){
      const area = Math.max(minArea, Math.max(0.1, +bW.value) * Math.max(0.1, +bH.value));
      bP.textContent = formatBR(area * bannerPriceM2);
    }
    bW.addEventListener('input', calcBanner);
    bH.addEventListener('input', calcBanner);
    calcBanner();
    document.getElementById('addBanner').addEventListener('click', () => {
      const area = Math.max(minArea, Math.max(0.1, +bW.value) * Math.max(0.1, +bH.value));
      window.Cart.addItem({id:'banner',name:'Banner lona 440g', price: bannerPriceM2, unit:'m2', area, width:+bW.value, height:+bH.value, minArea});
      document.getElementById('openCartBtn').click();
    });

    // Camiseta
    const camisetaUnit = 35;
    const cQ = document.getElementById('camisetaQty');
    const cP = document.getElementById('camisetaPrice');
    function calcCamiseta(){
      const q = Math.max(1, Math.floor(+cQ.value || 1));
      cP.textContent = formatBR(q * camisetaUnit);
    }
    cQ.addEventListener('input', calcCamiseta);
    calcCamiseta();
    document.getElementById('addCamiseta').addEventListener('click', () => {
      const quantity = Math.max(1, Math.floor(+cQ.value || 1));
      window.Cart.addItem({id:'camiseta', name:'Camiseta personalizada', price:camisetaUnit, unit:'un', qty:quantity});
      document.getElementById('openCartBtn').click();
    });
  </script>
</body>
</html>
